<!DOCTYPE html>
<html>
<head>
  <title>Steam Game Search</title>
  <meta charset="UTF-8">
  <style>
    input[type=text] {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: none;
      box-shadow: 0 0 5px #ccc;
      width: 300px;
      margin-right: 10px;
    }

    input[type=submit] {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: none;
      box-shadow: 0 0 5px #ccc;
      background-color: #0072C6;
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Steam Game Search</h1>
  <form id="search-form">
    <label for="search-box">Search for a game:</label>
    <input type="text" id="search-box" name="search-box" placeholder="Type a search query...">
    <input type="submit" value="Find a Game">
  </form>
  <div id="game-embed"></div>
  <script>
const searchForm = document.querySelector('#search-form');
const searchInput = document.querySelector('#search-input');
const gameEmbed = document.querySelector('#game-embed');

const API_KEY = '196BC42CD26CE964DAB2A98FC1A9F349';

function parseResponse(response) {
  const steamJson = response.response;
  const games = steamJson.applist.apps;
  const query = searchInput.value.toLowerCase();

  const matchingGames = games.filter(game => game.name.toLowerCase().includes(query));
  const randomGame = matchingGames[Math.floor(Math.random() * matchingGames.length)];

  const appId = randomGame.appid;
  const gameHtml = `<iframe src="https://store.steampowered.com/widget/${appId}/" frameborder="0" width="646" height="190"></iframe>`;

  gameEmbed.innerHTML = gameHtml;
}

async function searchSteam(event) {
  event.preventDefault();
  const steamResponse = await fetch(`https://api.steampowered.com/ISteamApps/GetAppList/v2/?key=${API_KEY}&format=jsonp&callback=parseResponse`, {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json',
    },
  });

  const steamJson = await steamResponse.json();
}

searchForm.addEventListener('submit', searchSteam);

  </script>
</body>
</html>
